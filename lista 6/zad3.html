<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Zadanie 3</title>
<style>
    #ramka { height:800px; width:800px; border:1px solid grey; display: block; margin-left: auto; margin-right: auto;}
    path {display:block; position:absolute;}
    h1,div{text-align:center;margin:10px}
</style>
</head>
<body>

<h1>Chmury</h1>
<svg style="margin-left: auto;" id='ramka'></svg>

<div>
    <button onclick="run=false"> Stop </button>
    <button onclick="run=true;step()"> Start </button>
</div>


<script>
    
    var s = '';

    for(i=0; i<15; i++)
    {
        s+='<path d="M220,80 Q280,20,320,80 Z" stroke="black" fill="grey" />';
    }
        
    document.getElementById('ramka').innerHTML = s;
    
    var planes = document.getElementsByTagName('path');
    console.log(planes);
    var run = false;
    for(plane of planes)
    {
        plane.x = Math.random()* 400;
        plane.y = Math.random()* 500;
        plane.vx = Math.random()* 20 - 10;
        plane.vy = Math.random()* 20 - 10;

        plane.style.transform = "translate(" + plane.x + "px," + plane.y + "px)";
        plane.onmousedown = stop;
    }

    function step()
    {
        for(let plane of planes)
        {
            plane.x += plane.vx;
            plane.y += plane.vy;
            
            if(plane.x>500|| plane.x<-200)  plane.vx*= -1;
            if(plane.y>700 || plane.y<-50)  plane.vy*= -1;

            plane.style.transform = "translate(" + plane.x + "px," + plane.y + "px)";
        }
        if(run) setTimeout(step, 15); 
    }
    
    function stop()
    {
        this.style = "display:none;"
    }
</script>
</body>
</html>
