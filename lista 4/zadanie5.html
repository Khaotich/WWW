<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Zadanie 5</title>
<style>
    #ramka {height:800px;width:800px; border:1px solid grey;margin:auto;position:relative;}
    b {display:block;height:10px;width:10px;position:absolute;text-align:center; transform-origin: 50% 50%;}
    h1,div {text-align:center;margin:20px}
    img{height: 50px; width: 50px; transform: rotate(30deg);transform-origin: 50% 50%;}
</style>
</head>
<body>

</body>

<h1>Samolociki</h1>
<div id='ramka'>
	<script>
	for(let i=0;i<50;i++)
		document.write("<b><img src='img/plane.png'></b>");
	</script>	
</div>

<div>
    <button onclick="run=false"> Stop </button>
    <button onclick="run=true;step()"> Start </button>
</div>


<script>
        var planes = document.getElementsByTagName('B');
        var run = false;
        for(plane of planes)
        {
            plane.x = Math.random()* 750;
            plane.y = Math.random()* 750;

            plane.vx = Math.random()* 30 - 15;
            plane.vy = Math.random()* 30 - 15;
            
            plane.style.left = plane.x + "px";
            plane.style.top  = plane.y + "px";
            plane.style.transform = "rotate(" + Math.atan2(plane.vy,plane.vx) + "rad)";
            //plane.style.transform = "rotate(30deg)";
            
            plane.onmousedown = stop;
        }

    function step()
    {
        for(let plane of planes)
        {
            plane.x += plane.vx;
            plane.y += plane.vy;
            
            if(plane.x>750 || plane.x<0)  plane.vx*= -1;
            if(plane.y>750 || plane.y<0)  plane.vy*= -1;
            
            plane.style.left = plane.x + "px";
            plane.style.top  = plane.y + "px";
            plane.style.transform = "rotate(" + Math.atan2(plane.vy,plane.vx) + "rad)";
        }
        if(run) setTimeout(step,20); 
    }
    
    function stop()
    {
        this.vx = 0;
        this.vy = 0;
    }
</script>

</html>
